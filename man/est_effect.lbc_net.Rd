% Generated by roxygen2: do not edit by hand
% Please edit documentation in R/est_effect.R
\name{est_effect.lbc_net}
\alias{est_effect.lbc_net}
\title{Estimate Weighted Outcomes, ATE, or ATT for an lbc_net object}
\usage{
\method{est_effect}{lbc_net}(object = NULL, Y, Tr = NULL, wt = NULL, type = "ATE", ...)
}
\arguments{
\item{object}{Optional. An object of class `"lbc_net"` generated by \code{\link{lbc_net}}.
If provided, `Tr` and `wt` will be extracted automatically.}

\item{Y}{Numeric vector of observed outcomes.}

\item{Tr}{Optional. Numeric binary vector (0/1) indicating treatment assignment.
Required if `object` is NULL.}

\item{wt}{Optional. Numeric vector of inverse probability weights.
Required if `object` is NULL.}

\item{type}{Character string specifying the desired estimate. The default is `"ATE"`, which computes
the average treatment effect. Setting `type = "ATT"` estimates the average treatment effect on the treated, while
`type = "Y"` returns the weighted mean outcome for the treated group (`Tr = 1`). If an object is provided, the estimate will be
consistent with the object's specification, but users can also select `"Y"`.}

\item{...}{Additional arguments passed to the specific method.}
}
\value{
A numeric value representing the estimated quantity.
}
\description{
Computes the weighted mean outcome, average treatment effect (ATE),
or average treatment effect on the treated (ATT). Y must be provided, and users can either supply an
`lbc_net` object (which automatically extracts weights and treatment assignments)
or manually provide `Tr` and `wt`.
}
\details{
It is designed for estimating causal effects in settings with continuous or binary outcomes.
For survival outcomes, users should apply appropriate survival analysis models, such as a
weighted Cox model or other time-to-event estimation methods.

Inverse Probability Weighting (IPW) is used to estimate the treatment effect, where the weight for subject \eqn{i} is:
\deqn{
W_i = \frac{\omega^*(p_i)}{ T_i p_i + (1 - T_i)(1 - p_i) }.
}

The frequency weight function \eqn{\omega^{*}(p_i)} determines the target population:
setting \eqn{\omega^{*}(p_i) = 1} yields the Average Treatment Effect (ATE), while
choosing \eqn{\omega^{*}(p_i) = p_i} results in the Average Treatment Effect on the Treated (ATT).

The population-level treatment effect is estimated as:
\deqn{
\Delta = \frac{E(\omega^*(p_i) \Delta_i)}{E(\omega^*(p_i))},
}
where \eqn{\Delta_i = E[Y_i(1) - Y_i(0) \mid \mathbf{Z}_i]} represents the individual conditional treatment effect.

The inverse probability weighted (IPW) estimator for ATE or ATT follows:
\deqn{
\hat{\Delta} = \frac{\sum_{i=1}^N T_i W_i Y_i}{\sum_{i=1}^N T_i W_i} - \frac{\sum_{i=1}^N (1-T_i) W_i Y_i}{\sum_{i=1}^N (1-T_i) W_i}.
}
}
\note{
This function does not compute variance estimates due to computational cost.
  Users can obtain variance estimates via bootstrapping, ensuring that inverse probability weights (`wt`)
  are recomputed using `lbc_net()` for each resampled dataset. To improve efficiency, consider using parallel computing
  with the `foreach` and `doParallel` package.
}
\examples{
# Simulated example
set.seed(123)
Y <- rnorm(100)  # Random outcome
Tr <- rbinom(100, 1, 0.5)  # Random treatment assignment
wt <- runif(100, 0.5, 1.5)  # Random inverse probability weights

# Manually specify Tr and wt
est_effect(Y = Y, Tr = Tr, wt = wt, type = "Y")
est_effect(Y = Y, Tr = Tr, wt = wt, type = "ATE")
est_effect(Y = Y, Tr = Tr, wt = wt, type = "ATT")

\dontrun{
# Use an lbc_net object
model <- lbc_net(data = data, formula = Tr ~ X1 + X2 + X3 + X4)
est_effect(object = model, Y, type = "Y")

}
}
